What:		/sys/class/rtrs-client
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
When a user of RTRS API creates a new session, a directory entry with
the name of that session is created under /sys/class/rtrs-client/<session-name>/

What:		/sys/class/rtrs-client/<session-name>/add_path
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RW, adds a new path (connection) to an existing session. Expected format is the
following:

  <[source addr,]destination addr>

  *addr ::= [ ip:<ipv4|ipv6> | gid:<gid> ]

What:		/sys/class/rtrs-client/<session-name>/max_reconnect_attempts
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Maximum number reconnect attempts the client should make before giving up
after connection breaks unexpectedly.

What:		/sys/class/rtrs-client/<session-name>/mp_policy
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Multipath policy specifies which path should be selected on each IO:

   round-robin (0):
       select path in per CPU round-robin manner.

   min-inflight (1):
       select path with minimum inflights.

What:		/sys/class/rtrs-client/<session-name>/paths/
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Each path belonging to a given session is listed here by its source and
destination address. When a new path is added to a session by writing to
the "add_path" entry, a directory <src@dst> is created.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/state
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RO, Contains "connected" if the session is connected to the peer and fully
functional.  Otherwise the file contains "disconnected"

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/reconnect
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Write "1" to the file in order to reconnect the path.
Operation is blocking and returns 0 if reconnect was successful.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/disconnect
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Write "1" to the file in order to disconnect the path.
Operation blocks until RTRS path is disconnected.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/remove_path
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Write "1" to the file in order to disconnected and remove the path
from the session.  Operation blocks until the path is disconnected
and removed from the session.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/hca_name
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RO, Contains the the name of HCA the connection established on.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/hca_port
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RO, Contains the port number of active port traffic is going through.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/src_addr
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RO, Contains the source address of the path

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/dst_addr
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RO, Contains the destination address of the path


What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/reset_all
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RW, Read will return usage help, write 0 will clear all the statistics.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/sg_entries
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Data to be transferred via RDMA is passed to RTRS as scatter-gather
list. A scatter-gather list can contain multiple entries.
Scatter-gather list with less entries require less processing power
and can therefore transferred faster. The file sg_entries outputs a
per-CPU distribution table for the number of entries in the
scatter-gather lists, that were passed to the RTRS API function
rtrs_clt_request (READ or WRITE).

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/cpu_migration
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
RTRS expects that each HCA IRQ is pinned to a separate CPU. If it's
not the case, the processing of an I/O response could be processed on a
different CPU than where it was originally submitted.  This file shows
how many interrupts where generated on a non expected CPU.
"from:" is the CPU on which the IRQ was expected, but not generated.
"to:" is the CPU on which the IRQ was generated, but not expected.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/reconnects
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Contains 2 unsigned int values, the first one records number of successful
reconnects in the path lifetime, the second one records number of failed
reconnects in the path lifetime.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/rdma_lat
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Latency distribution of RTRS requests.
The format is:
   1 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
   2 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
   4 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
   8 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
  16 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
  ...
  65536 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
  >= 65536 ms: <CNT-LAT-READ> <CNT-LAT-WRITE>
  maximum ms: <CNT-LAT-READ> <CNT-LAT-WRITE>

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/wc_completion
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Contains 2 unsigned int values, the first one records max number of work
requests processed in work_completion in session lifetime, the second
one records average number of work requests processed in work_completion
in session lifetime.

What:		/sys/class/rtrs-client/<session-name>/paths/<src@dst>/stats/rdma
Date:		Jan 2020
KernelVersion:	5.6
Contact:	Jack Wang <jinpu.wang@cloud.ionos.com> Danil Kipnis <danil.kipnis@cloud.ionos.com>
Description:
Contains statistics regarding rdma operations and inflight operations.
The output consists of 6 values:

<read-count> <read-total-size> <write-count> <write-total-size> \
<inflights> <failovered>
